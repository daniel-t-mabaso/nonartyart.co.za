!function(i){i.fn.inview=function(o){var n=i.extend({viewFactor:.3,onEnter:function(i){},onLeave:function(i){}},o),t=[];this.each(function(){var o=i(this),n={};n.top=o.offset().top,n.height=o.innerHeight(),n.bottom=n.top+n.height,n.obj=o,n.inView=null,t.push(n)});var e=i(window).data("inView.globaList")||[];function a(){for(var o=i(window).scrollTop()-40,n=o+40+40+i(window).innerHeight(),t=i(window).data("inView.globaList"),e=0;e<t.length;e++)for(var a=t[e].options,s=t[e].blockList,w=0;w<s.length;w++){var d=s[w],r=Math.max(o,d.top)-40,l=Math.min(n,d.bottom)+40-r;!0!==d.inView&&l/d.height>=a.viewFactor?(s[w].inView=!0,d.obj.addClass(d.obj.data("class-in")),d.obj.removeClass(d.obj.data("class-out")),"function"==typeof a.onEnter&&a.onEnter(d.obj)):!1!==d.inView&&l<=0&&(s[w].inView=!1,d.obj.addClass(d.obj.data("class-out")),d.obj.removeClass(d.obj.data("class-in")),"function"==typeof a.onLeave&&a.onLeave(d.obj))}}e.push({options:n,blockList:t}),i(window).data("inView.globaList",e),i(window).data("inView.initialized")||(i(window).data("inView.initialized",!0),i(window).on({scroll:a,resize:a})),i(window).trigger("resize")}}(jQuery);